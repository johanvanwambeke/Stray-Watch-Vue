(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{288:function(e,t,n){"use strict";n.r(t);n(18),n(59);var r=n(9),l={data:function(){return{info:"",imageUrl:"",image:null,email:"default@ce.com",animalTypes:["cat","dog"],animalType:"",purposes:["fosterhome","funding","adoption","new owner","Medical assistance","feeding"],purpose:"",urgencies:["immediatly ","in 1 day","in 2 days","in 1 week","in 1 month "],urgency:"",healthStatuses:["healthy ","in treatment","untreated"],healthStatus:"",show:!0,params:{token:"123456798",name:"avatar"},headers:{smail:"*_~"},imgDataUrl:""}},components:{},computed:{sentense:function(){return""===this.animalType?"Please fill in the profile":this.healthStatus+" "+this.animalType+" needs "+this.purpose+" "+this.urgency}},methods:{saveProfile:function(){var e=Object(r.a)(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.$axios.post("https://stray-watch-api.azurewebsites.net/api/AnimalProfile/Create",{ImageUrl:this.imageUrl,Health:this.healthStatus,Animal:this.animalType,Purpose:this.purpose,Urgency:this.urgency,Info:this.info}).then(function(e){console.log(e.data.id),t.$router.push({path:"/profile/".concat(e.data.id)})}).catch(function(e){console.log(e)});case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),onPickFile:function(){this.$refs.fileInput.click()},onFilePicked:function(){var e=Object(r.a)(regeneratorRuntime.mark(function e(t){var n,r,l,o=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.files,r=n[0].name,console.log(n[0]),{"Content-Type":"multipart/form-data"},!(r.lastIndexOf(".")<=0)){e.next=6;break}return e.abrupt("return",alert("Please ad a valid file!"));case 6:(l=new FileReader).addEventListener("load",function(){o.$axios.post("https://stray-watch-api.azurewebsites.net/api/FileUpload/savefile",{imgString:l.result,type:n[0].type}).then(function(e){console.log(e.data.uri),o.imageUrl=e.data.uri}).catch(function(e){console.log(e)})}),l.readAsDataURL(n[0]);case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},created:function(){1}},o=n(44),c=n(107),f=n.n(c),h=n(98),m=n(94),d=n(96),v=n(286),y=n(283),component=Object(o.a)(l,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("h1",[e._v(e._s(e.sentense))]),e._v(" "),n("v-flex",{attrs:{xs12:"",sm6:"","offset-3":""}},[n("v-btn",{staticClass:"primary",attrs:{raised:""},on:{click:e.onPickFile}},[e._v("upload image")]),e._v(" "),n("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:e.onFilePicked}})],1),e._v(" "),n("v-flex",[n("img",{attrs:{src:e.imageUrl,alt:"",width:"300"}})]),e._v(" "),n("v-flex",[n("v-select",{attrs:{items:e.healthStatuses,label:"Health"},model:{value:e.healthStatus,callback:function(t){e.healthStatus=t},expression:"healthStatus"}})],1),e._v(" "),n("v-flex",[n("v-select",{attrs:{items:e.animalTypes,label:"Animal"},model:{value:e.animalType,callback:function(t){e.animalType=t},expression:"animalType"}})],1),e._v(" "),n("v-flex",[n("v-select",{attrs:{items:e.purposes,label:"Purpose"},model:{value:e.purpose,callback:function(t){e.purpose=t},expression:"purpose"}})],1),e._v(" "),n("v-flex",[n("v-select",{attrs:{items:e.urgencies,label:"Urgency"},model:{value:e.urgency,callback:function(t){e.urgency=t},expression:"urgency"}})],1),e._v(" "),n("v-flex",[n("v-textarea",{attrs:{outline:"",label:"More info"},model:{value:e.info,callback:function(t){e.info=t},expression:"info"}})],1),e._v(" "),n("v-btn",{on:{click:e.saveProfile}},[e._v("Save profile")])],1)},[],!1,null,null,null);t.default=component.exports;f()(component,{VBtn:h.a,VContainer:m.a,VFlex:d.a,VSelect:v.a,VTextarea:y.a})}}]);